<div class="container">

<div class="float-left"><h3>Show Users</h3></div>

<table id="show-users-table" class="table table-striped table-bordered" width="100%" cellspacing="0">
  <thead>
    <tr>
      <th>Email</th>
      <th>First name</th>
      <th>Last name</th>
    </tr>
  </thead>

  <tbody>
  </tbody>
</table>

</div>

<% content_for :javascript_includes do %>
<script>
$(document).ready(function() {
  $.ajax({
    type: 'get',
    url: '<%= show_users_users_path %>',
    dataType: "json",
    success: function (result) {
      console.log(result);
      result["users"].map(function(user) {
        $('#show-users-table thead').append("<tr><td>" + user[0] + "</td><td>" + user[1] + "</td><td>" + user[2] + "</td></tr>");
      })
    },
    error: function () {
      console.log("Failed to fetch users!");
    }
  });
});
</script>
<% end %>
